
{
  "entities": {
    "userProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile information.",
      "type": "object",
      "properties": {
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "photoURL": {
          "type": "string",
          "format": "uri",
          "description": "The URL of the user's profile photo."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time the user profile was created."
        }
      },
      "required": ["displayName", "email", "createdAt"]
    },
    "thoughtRecord": {
      "title": "Thought Record",
      "description": "A CBT thought record to challenge negative thoughts.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "situation": { "type": "string" },
        "automaticThought": { "type": "string" },
        "cognitiveDistortions": { "type": "array", "items": { "type": "string" } },
        "alternativeThought": { "type": "string" },
        "analysis": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "situation", "automaticThought", "cognitiveDistortions", "timestamp"]
    },
    "moodLog": {
        "title": "Mood Log",
        "description": "A log of a user's mood at a specific point in time.",
        "type": "object",
        "properties": {
            "userId": {
                "type": "string"
            },
            "situation": {
                "type": "string"
            },
            "coreEmotion": {
                "type": "string"
            },
            "intensity": {
                "type": "number"
            },
            "thoughts": {
                "type": "string"
            },
            "physicalSensations": {
                "type": "string"
            },
            "timestamp": {
                "type": "string",
                "format": "date-time"
            }
        },
        "required": ["userId", "coreEmotion", "intensity", "timestamp"]
    },
    "journalEntry": {
        "title": "Journal Entry",
        "description": "A user's journal entry.",
        "type": "object",
        "properties": {
            "userId": {
                "type": "string"
            },
            "content": {
                "type": "string"
            },
            "analysis": {
                "type": "string"
            },
            "keyThemes": {
                "type": "array",
                "items": {
                    "type": "string"
                }
            },
            "suggestedToolName": {
                "type": "string"
            },
            "suggestedToolHref": {
                "type": "string"
            },
            "timestamp": {
                "type": "string",
                "format": "date-time"
            }
        },
        "required": ["userId", "content", "timestamp"]
    },
    "gratitudeEntry": {
        "title": "Gratitude Entry",
        "description": "A user's gratitude journal entry.",
        "type": "object",
        "properties": {
            "userId": {
                "type": "string"
            },
            "entries": {
                "type": "array",
                "items": {
                    "type": "string"
                }
            },
            "timestamp": {
                "type": "string",
                "format": "date-time"
            }
        },
        "required": ["userId", "entries", "timestamp"]
    },
    "chatSession": {
      "title": "Chat Session",
      "description": "A single chat session between a user and the AI coach.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" },
        "updatedAt": { "type": "string", "format": "date-time" },
        "messages": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "role": { "type": "string", "enum": ["user", "assistant", "tool"] },
              "content": { "type": "string" }
            },
            "required": ["role", "content"]
          }
        }
      },
      "required": ["userId", "createdAt", "updatedAt", "messages"]
    },
    "gad7Score": {
        "title": "GAD-7 Score",
        "description": "A user's score on the GAD-7 anxiety assessment.",
        "type": "object",
        "properties": {
            "userId": {
                "type": "string"
            },
            "score": {
                "type": "number"
            },
            "answers": {
                "type": "object"
            },
            "timestamp": {
                "type": "string",
                "format": "date-time"
            }
        },
        "required": ["userId", "score", "answers", "timestamp"]
    },
    "phq9Score": {
        "title": "PHQ-9 Score",
        "description": "A user's score on the PHQ-9 depression assessment.",
        "type": "object",
        "properties": {
            "userId": {
                "type": "string"
            },
            "score": {
                "type": "number"
            },
            "answers": {
                "type": "object"
            },
            "timestamp": {
                "type": "string",
                "format": "date-time"
            }
        },
        "required": ["userId", "score", "answers", "timestamp"]
    },
    "socialSkillAssessment": {
      "title": "Social Skill Assessment",
      "description": "A user's score on the social skills assessment.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" },
        "scores": {
          "type": "object",
          "properties": {
            "Listening": { "type": "number" },
            "Small Talk": { "type": "number" },
            "Empathy": { "type": "number" },
            "Nonverbal": { "type": "number" },
            "Assertiveness": { "type": "number" }
          }
        },
        "answers": {
            "type": "object"
        }
      },
      "required": ["userId", "timestamp", "scores", "answers"]
    },
    "worryLog": {
      "title": "Worry Log",
      "description": "A log of a user's worry, a scheduled time to address it, and its outcome.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "worry": { "type": "string" },
        "scheduledTime": { "type": "string", "format": "date-time" },
        "outcome": { "type": "string" },
        "didComeTrue": { "type": "boolean" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "worry", "scheduledTime", "createdAt"]
    },
    "panicLog": {
      "title": "Panic Log",
      "description": "A record of a panic attack.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" },
        "symptoms": { "type": "array", "items": { "type": "string" } },
        "peakIntensity": { "type": "number" },
        "durationInMinutes": { "type": "number" },
        "trigger": { "type": "string" },
        "notes": { "type": "string" }
      },
      "required": ["userId", "timestamp", "symptoms", "peakIntensity", "durationInMinutes"]
    },
    "sleepLog": {
      "title": "Sleep Log",
      "description": "A record of a user's sleep quality.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "date": { "type": "string", "format": "date" },
        "timeSlept": { "type": "number" },
        "quality": { "type": "string", "enum": ["Poor", "Fair", "Good", "Excellent"] },
        "awakenings": { "type": "number" },
        "notes": { "type": "string" }
      },
      "required": ["userId", "date", "timeSlept", "quality"]
    },
    "activityLog": {
      "title": "Activity Log",
      "description": "A record of a user's daily activities and other metrics.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" },
        "activity": { "type": "string" },
        "durationInMinutes": { "type": "number" },
        "moodBefore": { "type": "string" },
        "moodAfter": { "type": "string" },
        "energyLevel": { "type": "number", "description": "A rating from 1 to 5 for energy level." },
        "physicalSymptoms": { "type": "string", "description": "A description of any physical symptoms." },
        "screenTimeHours": { "type": "number", "description": "Hours of screen time." },
        "eatingHabits": { "type": "string", "description": "A brief note on eating habits for the day." },
        "notes": { "type": "string" }
      },
      "required": ["userId", "timestamp"]
    },
    "medicationLog": {
      "title": "Medication Log",
      "description": "A record of a user's medication intake.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" },
        "medication": { "type": "string" },
        "dosage": { "type": "string" },
        "taken": { "type": "boolean" },
        "sideEffects": { "type": "string" }
      },
      "required": ["userId", "timestamp", "medication", "dosage", "taken"]
    },
    "substanceUseLog": {
      "title": "Substance Use Log",
      "description": "A record of a user's substance use.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" },
        "substance": { "type": "string", "description": "e.g., Alcohol, Caffeine, Nicotine" },
        "amount": { "type": "string", "description": "e.g., 1 beer, 2 cups, 1 cigarette" },
        "urgeIntensity": { "type": "number", "description": "A rating from 0 to 100 for urge intensity." },
        "notes": { "type": "string" }
      },
      "required": ["userId", "timestamp", "substance", "amount"]
    },
    "todo": {
      "title": "Todo Item",
      "description": "A single todo item.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "text": { "type": "string" },
        "completed": { "type": "boolean" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "text", "completed", "createdAt"]
    },
    "wemwbsScore": {
      "title": "WEMWBS Score",
      "description": "A user's score on the Warwick-Edinburgh Mental Well-being Scale.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "score": { "type": "number" },
        "answers": { "type": "object" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "score", "answers", "timestamp"]
    },
    "lifeBalanceScore": {
      "title": "Life Balance Score",
      "description": "A user's score on the Life Balance Wheel.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "domains": { 
            "type": "array",
            "items": {
                "type": "object",
                "properties": {
                    "name": { "type": "string" },
                    "satisfaction": { "type": "number" }
                }
            }
        },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "domains", "timestamp"]
    },
     "behavioralActivationActivity": {
      "title": "Behavioral Activation Activity",
      "description": "A scheduled activity for Behavioral Activation.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "title": { "type": "string" },
        "scheduledDate": { "type": "string", "format": "date-time" },
        "completed": { "type": "boolean" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "title", "scheduledDate", "completed", "createdAt"]
    },
    "behavioralChainAnalysis": {
      "title": "Behavioral Chain Analysis",
      "description": "A record of a DBT behavioral chain analysis.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "problemBehavior": { "type": "string" },
        "promptingEvent": { "type": "string" },
        "vulnerabilityFactors": { "type": "string" },
        "chainOfEvents": { "type": "string" },
        "consequences": { "type": "string" },
        "solutions": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "problemBehavior", "promptingEvent", "vulnerabilityFactors", "chainOfEvents", "consequences", "solutions", "createdAt"]
    },
    "behavioralExperiment": {
        "title": "Behavioral Experiment",
        "description": "A record of a CBT behavioral experiment.",
        "type": "object",
        "properties": {
            "userId": { "type": "string" },
            "createdAt": { "type": "string", "format": "date-time" },
            "beliefToTest": { "type": "string" },
            "experiment": { "type": "string" },
            "prediction": { "type": "string" },
            "outcome": { "type": "string" },
            "whatILearned": { "type": "string" }
        },
        "required": ["userId", "createdAt", "beliefToTest", "experiment", "prediction", "outcome", "whatILearned"]
    }
  },
  "auth": {
    "providers": ["google.com", "password"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/userProfile"
      },
      "description": "Stores public information about a user."
    },
    "/users/{userId}/thoughtRecords/{recordId}": {
      "schema": {
        "$ref": "#/entities/thoughtRecord"
      },
      "description": "Stores a user's thought records."
    },
    "/users/{userId}/moodLogs/{moodLogId}": {
        "schema": {
            "$ref": "#/entities/moodLog"
        },
        "description": "Stores a user's mood logs."
    },
    "/users/{userId}/journalEntries/{journalEntryId}": {
        "schema": {
            "$ref": "#/entities/journalEntry"
        },
        "description": "Stores a user's journal entries."
    },
    "/users/{userId}/gratitudeEntries/{gratitudeEntryId}": {
        "schema": {
            "$ref": "#/entities/gratitudeEntry"
        },
        "description": "Stores a user's gratitude journal entries."
    },
    "/users/{userId}/chats/{chatId}": {
        "schema": {
            "$ref": "#/entities/chatSession"
        },
        "description": "Stores the history of a chat session."
    },
    "/users/{userId}/gad7Scores/{gad7ScoreId}": {
        "schema": {
            "$ref": "#/entities/gad7Score"
        },
        "description": "Stores a user's GAD-7 assessment scores."
    },
    "/users/{userId}/phq9Scores/{phq9ScoreId}": {
        "schema": {
            "$ref": "#/entities/phq9Score"
        },
        "description": "Stores a user's PHQ-9 assessment scores."
    },
    "/users/{userId}/socialSkillAssessments/{assessmentId}": {
        "schema": { "$ref": "#/entities/socialSkillAssessment" },
        "description": "Stores a user's social skill assessment results."
    },
    "/users/{userId}/worryLogs/{worryLogId}": {
      "schema": { "$ref": "#/entities/worryLog" },
      "description": "Stores a user's worry log entries."
    },
    "/users/{userId}/panicLogs/{panicLogId}": {
      "schema": { "$ref": "#/entities/panicLog" },
      "description": "Stores a user's panic attack logs."
    },
    "/users/{userId}/sleepLogs/{sleepLogId}": {
      "schema": { "$ref": "#/entities/sleepLog" },
      "description": "Stores a user's sleep logs."
    },
    "/users/{userId}/activityLogs/{activityLogId}": {
      "schema": { "$ref": "#/entities/activityLog" },
      "description": "Stores a user's activity logs."
    },
    "/users/{userId}/medicationLogs/{medicationLogId}": {
      "schema": { "$ref": "#/entities/medicationLog" },
      "description": "Stores a user's medication logs."
    },
    "/users/{userId}/substanceUseLogs/{logId}": {
      "schema": { "$ref": "#/entities/substanceUseLog" },
      "description": "Stores a user's substance use logs."
    },
    "/users/{userId}/todos/{todoId}": {
      "schema": { "$ref": "#/entities/todo" },
      "description": "Stores a user's todo items."
    },
    "/users/{userId}/wemwbsScores/{scoreId}": {
      "schema": { "$ref": "#/entities/wemwbsScore" },
      "description": "Stores a user's WEMWBS scores."
    },
    "/users/{userId}/lifeBalanceScores/{scoreId}": {
        "schema": { "$ref": "#/entities/lifeBalanceScore" },
        "description": "Stores a user's Life Balance Wheel scores."
    },
    "/users/{userId}/behavioralActivation/{activityId}": {
      "schema": { "$ref": "#/entities/behavioralActivationActivity" },
      "description": "Stores a user's scheduled activities for Behavioral Activation."
    },
    "/users/{userId}/behavioralChainAnalyses/{analysisId}": {
        "schema": { "$ref": "#/entities/behavioralChainAnalysis" },
        "description": "Stores a user's DBT behavioral chain analyses."
    },
    "/users/{userId}/behavioralExperiments/{experimentId}": {
        "schema": { "$ref": "#/entities/behavioralExperiment" },
        "description": "Stores a user's CBT behavioral experiments."
    }
  }
}
