
{
  "entities": {
    "userProfile": {
      "title": "User Profile",
      "description": "Represents a user's profile information.",
      "type": "object",
      "properties": {
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "The user's email address."
        },
        "photoURL": {
          "type": "string",
          "format": "uri",
          "description": "The URL of the user's profile photo."
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "description": "The date and time the user profile was created."
        }
      },
      "required": ["displayName", "email", "createdAt"]
    },
    "moodLog": {
        "title": "Mood Log",
        "description": "A log of a user's mood at a specific point in time.",
        "type": "object",
        "properties": {
            "userId": {
                "type": "string"
            },
            "situation": {
                "type": "string"
            },
            "coreEmotion": {
                "type": "string"
            },
            "intensity": {
                "type": "number"
            },
            "thoughts": {
                "type": "string"
            },
            "physicalSensations": {
                "type": "string"
            },
            "timestamp": {
                "type": "string",
                "format": "date-time"
            }
        },
        "required": ["userId", "coreEmotion", "intensity", "timestamp"]
    },
    "journalEntry": {
        "title": "Journal Entry",
        "description": "A user's journal entry.",
        "type": "object",
        "properties": {
            "userId": {
                "type": "string"
            },
            "content": {
                "type": "string"
            },
            "analysis": {
                "type": "string"
            },
            "keyThemes": {
                "type": "array",
                "items": {
                    "type": "string"
                }
            },
            "suggestedToolName": {
                "type": "string"
            },
            "suggestedToolHref": {
                "type": "string"
            },
            "timestamp": {
                "type": "string",
                "format": "date-time"
            }
        },
        "required": ["userId", "content", "timestamp"]
    },
    "gratitudeEntry": {
        "title": "Gratitude Entry",
        "description": "A user's gratitude journal entry.",
        "type": "object",
        "properties": {
            "userId": {
                "type": "string"
            },
            "entries": {
                "type": "array",
                "items": {
                    "type": "string"
                }
            },
            "timestamp": {
                "type": "string",
                "format": "date-time"
            }
        },
        "required": ["userId", "entries", "timestamp"]
    },
    "chatSession": {
      "title": "Chat Session",
      "description": "A single chat session between a user and the AI coach.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "createdAt": { "type": "string", "format": "date-time" },
        "updatedAt": { "type": "string", "format": "date-time" },
        "messages": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "role": { "type": "string", "enum": ["user", "assistant", "tool"] },
              "content": { "type": "string" }
            },
            "required": ["role", "content"]
          }
        }
      },
      "required": ["userId", "createdAt", "updatedAt", "messages"]
    },
    "gad7Score": {
        "title": "GAD-7 Score",
        "description": "A user's score on the GAD-7 anxiety assessment.",
        "type": "object",
        "properties": {
            "userId": {
                "type": "string"
            },
            "score": {
                "type": "number"
            },
            "answers": {
                "type": "object"
            },
            "timestamp": {
                "type": "string",
                "format": "date-time"
            }
        },
        "required": ["userId", "score", "answers", "timestamp"]
    },
    "phq9Score": {
        "title": "PHQ-9 Score",
        "description": "A user's score on the PHQ-9 depression assessment.",
        "type": "object",
        "properties": {
            "userId": {
                "type": "string"
            },
            "score": {
                "type": "number"
            },
            "answers": {
                "type": "object"
            },
            "timestamp": {
                "type": "string",
                "format": "date-time"
            }
        },
        "required": ["userId", "score", "answers", "timestamp"]
    },
    "iptSession": {
      "title": "IPT Session",
      "description": "A log of an Interpersonal Therapy exercise.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "timestamp"]
    },
    "schema": {
      "title": "Schema",
      "description": "A user's identified schema.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "timestamp"]
    },
    "sfbtMiracleQuestion": {
      "title": "SFBT Miracle Question",
      "description": "A user's response to the SFBT Miracle Question.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "answer": { "type": "string"},
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "answer", "timestamp"]
    },
    "narrativeStory": {
      "title": "Narrative Story",
      "description": "A user's re-authored story in Narrative Therapy.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" }
      },
      "required": ["userId", "timestamp"]
    },
    "socialSkillAssessment": {
      "title": "Social Skill Assessment",
      "description": "A user's score on the social skills assessment.",
      "type": "object",
      "properties": {
        "userId": { "type": "string" },
        "timestamp": { "type": "string", "format": "date-time" },
        "scores": {
          "type": "object",
          "properties": {
            "Listening": { "type": "number" },
            "Small Talk": { "type": "number" },
            "Empathy": { "type": "number" },
            "Nonverbal": { "type": "number" },
            "Assertiveness": { "type": "number" }
          }
        },
        "answers": {
            "type": "object"
        }
      },
      "required": ["userId", "timestamp", "scores", "answers"]
    }
  },
  "auth": {
    "providers": ["google.com"]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/entities/userProfile"
      },
      "description": "Stores public information about a user."
    },
    "/users/{userId}/moodLogs/{moodLogId}": {
        "schema": {
            "$ref": "#/entities/moodLog"
        },
        "description": "Stores a user's mood logs."
    },
    "/users/{userId}/journalEntries/{journalEntryId}": {
        "schema": {
            "$ref": "#/entities/journalEntry"
        },
        "description": "Stores a user's journal entries."
    },
    "/users/{userId}/gratitudeEntries/{gratitudeEntryId}": {
        "schema": {
            "$ref": "#/entities/gratitudeEntry"
        },
        "description": "Stores a user's gratitude journal entries."
    },
    "/users/{userId}/chats/{chatId}": {
        "schema": {
            "$ref": "#/entities/chatSession"
        },
        "description": "Stores the history of a chat session."
    },
    "/users/{userId}/gad7Scores/{gad7ScoreId}": {
        "schema": {
            "$ref": "#/entities/gad7Score"
        },
        "description": "Stores a user's GAD-7 assessment scores."
    },
    "/users/{userId}/phq9Scores/{phq9ScoreId}": {
        "schema": {
            "$ref": "#/entities/phq9Score"
        },
        "description": "Stores a user's PHQ-9 assessment scores."
    },
    "/users/{userId}/iptSessions/{iptSessionId}": {
      "schema": { "$ref": "#/entities/iptSession" },
      "description": "Stores a user's Interpersonal Therapy sessions."
    },
    "/users/{userId}/schemas/{schemaId}": {
      "schema": { "$ref": "#/entities/schema" },
      "description": "Stores a user's identified schemas."
    },
    "/users/{userId}/sfbtMiracleQuestions/{sfbtMiracleQuestionId}": {
      "schema": { "$ref": "#/entities/sfbtMiracleQuestion" },
      "description": "Stores a user's Solution-Focused Brief Therapy miracle question responses."
    },
    "/users/{userId}/narrativeStories/{narrativeStoryId}": {
      "schema": { "$ref": "#/entities/narrativeStory" },
      "description": "Stores a user's re-authored stories from Narrative Therapy."
    },
    "/users/{userId}/socialSkillAssessments/{assessmentId}": {
        "schema": { "$ref": "#/entities/socialSkillAssessment" },
        "description": "Stores a user's social skill assessment results."
    }
  }
}
